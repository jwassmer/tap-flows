--- a/notes/main.tex
+++ b/notes/main.tex
@@
-Transportation network are naturally modeled as directed graphs $G = (V,E)$ where the edges $e \in E \subseteq V \times V$ correspond to the road segments. The intersections of roads are represented by nodes $n \in V$. 
-If a road between two intersections $n$ and $m$ has traffic lines with opposite direction, both edges $e=(n,m)$ and $e=(m,n)$ are in the edge set $E$.\\
+Transportation networks are naturally modeled as directed graphs $G = (V,E)$, where edges $e \in E \subseteq V \times V$ represent road segments and nodes $n \in V$ represent intersections.
+If a road between two intersections $n$ and $m$ has lanes in opposite directions, both edges $e=(n,m)$ and $e=(m,n)$ belong to the edge set $E$.\\
@@
-To analyze the traffic flow $f_e \geq 0$ on a given road segment $e$ we define a cost function $t_e(f_e)$ that represents the travel time as a function of both the traffic volume and the road's capacity. Under the assumption that drivers follow basic traffic rules, for example, matching the speed of the vehicle ahead, obeying speed limits, and maintaining a minimum speed, the cost function is often modeled using the `Bureau of Public Roads' (BPR) formulation~\cite{us1964traffic} 
+To analyze the traffic flow $f_e \geq 0$ on a given road segment $e$, we define a cost function $t_e(f_e)$ that represents travel time as a function of both traffic volume and road capacity. Under the assumption that drivers follow basic traffic rules (e.g., matching the speed of the vehicle ahead, obeying speed limits, and maintaining a minimum speed), travel time is often modeled using the `Bureau of Public Roads' (BPR) formulation~\cite{us1964traffic}:
@@
-The lower bound $t_e^0$ corresponds to the minimum travel time of vehicles, which we set to walking-speed velocity, whereas the upper bound $t_e^{\mathrm{max}}$ is set by the road’s respective speed limit.
+The lower bound $t_e^0$ corresponds to the minimum travel time, which we approximate using walking-speed velocity, whereas the upper bound $t_e^{\mathrm{max}}$ is determined by the road’s speed limit.
@@
-We analyze traffic dynamics by modeling each driver as a rational agent seeking to minimize their travel time between a given origin and destination. Furthermore, we assume that all drivers possess perfect, real-time knowledge of traffic conditions, effectively implying universal GPS usage. These assumptions lead to the concept of a user equilibrium which is a state in which no driver can reduce their travel time by unilaterally changing routes. This principle, also known as Wardrop's first principle~\cite{wardrop1952road}, implies that all utilized routes between an origin-destination pair experience equal and least travel times, while unused routes would have higher travel times. The resulting traffic pattern satisfies the conditions of a Nash equilibrium in a network game among trip-makers~\cite{charnes1958extremal}.
+We analyze traffic dynamics by modeling each driver as a rational agent seeking to minimize travel time between a given origin and destination. We further assume that drivers have perfect, real-time knowledge of traffic conditions, effectively implying universal GPS usage. These assumptions lead to the concept of a user equilibrium: a state in which no driver can reduce travel time by unilaterally changing routes. This principle, also known as Wardrop's first principle~\cite{wardrop1952road}, implies that all used routes between an origin--destination pair have equal and minimal travel times, while unused routes have higher travel times. The resulting traffic pattern satisfies the conditions of a Nash equilibrium in a network game among travelers~\cite{charnes1958extremal}.
@@
-While the user equilibrium represents an individually optimal state, it does not necessarily minimize overall congestion. In contrast, when all drivers collectively minimize the total travel time across (i.e. the social cost of \cref{eq:social-cost}) the entire network, given by the social cost of the system
+While the user equilibrium represents an individually optimal state, it does not necessarily minimize overall congestion. In contrast, if routing is coordinated to minimize total travel time across the entire network (i.e., the social cost in \cref{eq:social-cost}),
@@
-the system reaches a system optimum---a state in which traffic is distributed to achieve the most efficient network performance. This principle, also known as Wardrop's second principle~\cite{wardrop1952road}, results in an allocation where some drivers may experience longer travel times than in a user equilibrium, but the total congestion and overall delay are minimized.
+the system reaches a system optimum---a state in which traffic is distributed to maximize overall efficiency. This principle, also known as Wardrop's second principle~\cite{wardrop1952road}, yields an allocation in which some drivers may experience longer travel times than in user equilibrium, but total congestion and aggregate delay are minimized.
@@
-The discrepancy between the social cost at user equilibrium and at system optimum highlights the inefficiencies introduced by selfish routing. This inefficiency is encapsulated by the price of anarchy~\cite{koutsoupias1999worst}, which quantifies how much the lack of coordination among selfish drivers degrades overall system performance.  In \cref{fig:user-eq-optimum}, we illustrate this by comparing the resulting traffic flows $f_e$ in a simple network where $10$ drivers travel from node $A$ to node $D$ in both: the (a) user equilibrium and the (b) social optimum. While each driver in the user equilibrium selects their route to minimize individual travel time. In contrast, the social optimum reflects coordinated routing that minimizes total travel time across all drivers. We find that the total social cost in the user equilibrium ($sc(f_e)=200$) is higher than in the social optimum ($sc(f_e)=190$), illustrating how decentralized decision-making can lead to inefficient outcomes for the system as a whole.
+The discrepancy between social cost at user equilibrium and at system optimum highlights inefficiencies introduced by selfish routing. This inefficiency is captured by the price of anarchy~\cite{koutsoupias1999worst}, which quantifies how strongly uncoordinated behavior degrades overall performance. In \cref{fig:user-eq-optimum}, we compare traffic flows $f_e$ in a simple network where $10$ drivers travel from node $A$ to node $D$ under (a) user equilibrium and (b) system optimum. In user equilibrium, each driver chooses routes to minimize individual travel time. In system optimum, routing is coordinated to minimize total travel time across all drivers. The total social cost is higher in user equilibrium ($sc(f_e)=200$) than in system optimum ($sc(f_e)=190$), illustrating how decentralized decisions can produce inefficient system-level outcomes.
@@
-The Braess paradox describes the counterintuitive phenomenon in which adding an additional link to a transportation network can increase overall congestion and travel times~\cite{braess1968paradoxon}. This pseudo-paradox occurs in a user equilibrium scenario because individual drivers, seeking to minimize their own travel times, may inadvertently create a suboptimal state that worsens traffic flow for everyone. Similar to~\citep{schafer2022understanding, manik2022predicting}, in which the concept has been extended to electrical grids, we define the Braess paradox more broadly: a link is considered Braessian if adding capacity to it increases the social cost in the user equilibrium of the system. 
+The Braess paradox describes the counterintuitive phenomenon in which adding a link to a transportation network can increase overall congestion and travel times~\cite{braess1968paradoxon}. This paradox arises under user equilibrium because drivers minimizing their individual travel times can inadvertently create a globally suboptimal state. Similar to extensions of this concept to electrical grids~\citep{schafer2022understanding, manik2022predicting}, we define the Braess paradox more broadly: a link is considered Braessian if adding capacity to it increases social cost in user equilibrium.
@@
-For now, consider the linear approximation of the cost function, as shown in Eq.~\ref{eq:linear-travel-time}. Since the parameter $\beta_e$ represents the free-flow travel time on a road, we use it to determine whether an edge is Braessian: if the total social cost decreases as the free-flow travel time of a road $\beta_e$ increases, the edge $e$ is considered Braessian.
+For the following argument, consider the linear cost approximation in Eq.~\ref{eq:linear-travel-time}. Since $\beta_e$ represents free-flow travel time on edge $e$, we use it to identify Braessian behavior: if total social cost decreases as $\beta_e$ increases, then edge $e$ is Braessian.
@@
-In \Cref{fig:classicl-braess} we illustrate the Braess paradox for a simple network topology (panel (b)), along with the corresponding edge cost functions. In this example we assume 40 drivers going from node $A$ (marked red) to node $B$ (marked blue). Panel (a) displays the total social cost of the user equilibrium of the system (see~\cref{eq:social-cost}) as a function of the free-flow travel time $\beta_{CB}$. As expected, increasing $\beta_{CB}$ from zero to approximately one initially raises the social cost. However, as $\beta_{CB}$ continues to increase, up to around 2.5, the social cost begins to decline and eventually stabilizes at a value even lower than that observed when the edge had zero free-flow travel time. The red cross marks the social cost obtained when edge $(C,B)$ is removed entirely, corresponding a free flow travel time of infinity, $\beta_{CB} \rightarrow \infty$.\\
+In \Cref{fig:classicl-braess}, we illustrate the Braess paradox for a simple network topology (panel (b)) with the corresponding edge cost functions. In this example, 40 drivers travel from node $A$ (red) to node $B$ (blue). Panel (a) shows the total social cost in user equilibrium (see~\cref{eq:social-cost}) as a function of free-flow travel time $\beta_{CB}$. As expected, increasing $\beta_{CB}$ from zero to approximately one initially raises social cost. However, as $\beta_{CB}$ increases further (up to about 2.5), social cost declines and eventually stabilizes at a value lower than in the initial case of zero free-flow travel time. The red cross marks the social cost when edge $(C,B)$ is removed entirely, corresponding to $\beta_{CB} \rightarrow \infty$.\\
@@
-This behavior highlights the paradoxical nature of the phenomenon. When the edge $(C,B)$ is highly efficient (i.e., when $\beta_{CB}$ is small), it attracts additional flow, causing most drivers to choose the seemingly fastest route. As a result, this route becomes heavily used, potentially leading to congestion effects. Initially, increasing the free flow travel time on this edge increases overall travel time, as one would intuitively expect. Yet, beyond a certain threshold, a paradoxical effect emerges: as $\beta_{CB}$ grows further, drivers redistribute to alternative, less congested routes, thereby reducing the total social cost to a level lower than in the initial configuration. As the edge becomes less attractive with increasing $\beta_{CB}$, the inefficient routing behavior is mitigated and the system approaches a more efficient user equilibrium. 
+This behavior highlights the paradox. When edge $(C,B)$ is highly efficient (small $\beta_{CB}$), it attracts additional flow, so many drivers choose the apparently fastest route. The resulting overuse can increase congestion. Initially, increasing free-flow travel time on this edge raises overall travel time, as expected. Beyond a threshold, however, a paradoxical effect appears: as $\beta_{CB}$ grows further, drivers redistribute to alternative, less congested routes, reducing total social cost below the initial configuration. As the edge becomes less attractive, inefficient routing is mitigated and the system approaches a more efficient user equilibrium.
@@
-Having established the concepts of user equilibrium and system optimum, we now turn to the formal mathematical formulation of traffic assignment. The traffic assignment problem (TAP) seeks to determine how trips are distributed across a network under given demand and network topology. This problem can be formulated in various ways, including link-based, path-based, and cycle-based representations~\cite{ahuja1995network}, all of which are equivalent under appropriate conditions (see Appendix~\ref{app:link-path-node} for details).\\
+Having established the concepts of user equilibrium and system optimum, we now turn to the formal mathematical formulation of traffic assignment. The traffic assignment problem (TAP) seeks to determine how trips are distributed across a network for a given demand and network topology. This problem can be formulated in various ways, including link-based, path-based, and cycle-based representations~\cite{ahuja1995network}, which are equivalent under appropriate conditions (see Appendix~\ref{app:link-path-node} for details).\\
@@
-We restrict each OD tuple $w$ to be either of the form $w = (o, d_1, d_2, \dots, d_n)$, where a single origin node $o$ supplies multiple destinations, or $w = (d, o_1, o_2, \dots, o_n)$, where multiple origins supply a single destination node $d$. A mixture of multiple origins and multiple destinations within the same OD tuple is not permitted, because it would break the uniqueness of directionality.
+We restrict each OD tuple $w$ to one of two forms: $w = (o, d_1, d_2, \dots, d_n)$, where one origin node $o$ supplies multiple destinations, or $w = (d, o_1, o_2, \dots, o_n)$, where multiple origins supply one destination node $d$. We exclude mixtures of multiple origins and multiple destinations within the same OD tuple to preserve a unique flow direction.
@@
-In this proof, we utilized the algebraic solution of the user equilibrium flows, given by \cref{eq:flow-solution-mat} for the optimization problem in \cref{eq:tap-node-link}, to compute the derivative of the social cost with respect to the edges free-flow travel time $\beta_e$. We demonstrated that this derivative remains constant in terms of $\beta_e$. This property allows us to determine whether the social cost increases or decreases with respect to $\beta_e$, thereby assessing whether individual edges contribute to the system's efficiency or inefficiency.\\
+In this proof, we used the algebraic solution of user-equilibrium flows (given by \cref{eq:flow-solution-mat} for the optimization problem in \cref{eq:tap-node-link}) to compute the derivative of social cost with respect to an edge's free-flow travel time $\beta_e$. We showed that this derivative is constant with respect to $\beta_e$. This property allows us to determine whether social cost increases or decreases as $\beta_e$ changes, thereby assessing whether individual edges contribute to system efficiency or inefficiency.\\
@@
-However, there are certain caveats: we must first solve the system numerically once to identify subgraphs $G(V,E^w)$ where an algebraic solutions exist. The linearity of the social cost can only be established within this subgraph. If $\beta_e$ changes too significantly, the underlying subgraph solution may shift, altering the validity of our algebraic solution. Consequently, this approach can be interpreted as analyzing the system's behavior under infinitesimal changes in $\beta_e$, i.e. we can only prove piecewise linearity.
+However, there are important caveats. First, we must solve the system numerically once to identify subgraphs $G(V,E^w)$ where algebraic solutions exist. Second, linearity of social cost can only be established within a fixed subgraph. If $\beta_e$ changes substantially, the effective subgraph may change, and the algebraic solution may no longer apply. Consequently, this approach characterizes the system under infinitesimal changes in $\beta_e$; equivalently, it establishes piecewise linearity.
@@
-Panels (b–f) further illustrate that the analytical and numerical solutions coincide within a neighborhood of the initial $\beta_e$ values (highlighted in the corresponding colors), where the relationship of the social cost and $\beta_e$ is piecewise linear. As $\beta_e$ deviates further from its baseline, discrepancies arise due to structural changes in the effective subgraph, underscoring that the analytical approximation is reliable primarily for small perturbations of $\beta_e$.
+Panels (b--f) further show that analytical and numerical solutions coincide in a neighborhood of the initial $\beta_e$ values (highlighted in matching colors), where the relationship between social cost and $\beta_e$ is piecewise linear. As $\beta_e$ deviates further from its baseline, discrepancies emerge due to structural changes in the effective subgraph, underscoring that the analytical approximation is most reliable for small perturbations of $\beta_e$.
@@
-Panel (a) of \cref{fig:cost-gradient} shows the resulting traffic flows, while panel (b) presents the corresponding SCGC values for each edge. Centrally located edges tend to exhibit both higher traffic flows and larger SCGC values. This is because a greater number of shortest paths pass through these edges, making them critical for network-wide accessibility. Consequently, even small perturbations to their free flow travel times $\beta_e$ can strongly affect the total social cost.
+Panel (a) of \cref{fig:cost-gradient} shows the resulting traffic flows, while panel (b) presents the corresponding SCGC values for each edge. Centrally located edges tend to exhibit both higher traffic flows and larger SCGC values. This is because more shortest paths pass through these edges, making them critical for network-wide accessibility. Consequently, even small perturbations to their free-flow travel times $\beta_e$ can strongly affect total social cost.
@@
-From a conceptual standpoint, these findings resonate with the view of transport networks as complex adaptive systems in line with Haken’s principles of synergetics, where global order emerges from the interplay of a few dominant structures and many interacting components~\cite{haken1983}. In this framework, the few edges with high SCGC values act as ‘order parameters’ controlling the macroscopic flow patterns, reflecting the essence of Haken’s synergetic approach. Macroscopic traffic patterns emerge from decentralized decisions, and small local changes can produce nonlinear system-wide effects. SCGC effectively captures this local–global coupling by quantifying how the system responds to infinitesimal link-level interventions. This interpretation aligns with the principles of synergetics, where global order is shaped by the interplay of a few dominant structures and many interacting components.
+From a conceptual standpoint, these findings align with the view of transport networks as complex adaptive systems and with Haken’s principles of synergetics, where global order emerges from the interplay of a few dominant structures and many interacting components~\cite{haken1983}. In this perspective, edges with high SCGC values can be interpreted as effective `order parameters' that shape macroscopic flow patterns. SCGC captures this local--global coupling by quantifying how infinitesimal link-level interventions affect system-wide performance.
@@
-Moreover, SCGC offers a quantitative tool for prioritizing measures such as congestion pricing, access restrictions, or adaptive signal control. By focusing on the links with the strongest impact on total social cost, policy makers can implement targeted and cost-effective interventions, avoiding broad, inefficient measures that overlook the network’s self-organizing structure.
+Moreover, SCGC offers a quantitative tool for prioritizing measures such as congestion pricing, access restrictions, or adaptive signal control. By focusing on links with the strongest impact on total social cost, policymakers can implement targeted and cost-effective interventions, avoiding broad and inefficient measures that overlook the network’s self-organizing structure.
@@
-where $f_e$ describes the flow on an edge $e$, while $f_r^w$ describes the flow on a path $r \in R$ between an origin-destination pair (OD) $w \in W$, such that the demand $d^w$ is covered.  Moreover, we define the link-path incidence matrix $\Delta^w_{e,r}$, which it is equal to one if edge $e$ lies on path $r$ between the OD $w$, and zero otherwise,
+where $f_e$ describes the flow on edge $e$, while $f_r^w$ describes the flow on path $r \in R$ between origin--destination tuple (OD) $w \in W$, such that demand $d^w$ is satisfied. Moreover, we define the link--path incidence matrix $\Delta^w_{e,r}$, which is equal to one if edge $e$ lies on path $r$ for OD tuple $w$, and zero otherwise:
@@
-The objective function for the system optimum of the TAP is given by the total travel time experienced by all drivers on a road combined (also known as the social cost), given by
+The objective function for the system optimum of the TAP is given by the total travel time experienced by all drivers (i.e., the social cost), given by
@@
-Both objective functions are convex on the domain $[0, f_e^{\max}]$. Hence, the optimization problem~\eqref{eq:app-tap-link-path} can be solved in principal in polynomial time~\citep{kozlov1979polynomial}.
+Both objective functions are convex on the domain $[0, f_e^{\max}]$. Hence, the optimization problem~\eqref{eq:app-tap-link-path} can be solved in principle in polynomial time~\citep{kozlov1979polynomial}.
